<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="{{base_url}}assets/img/logo/favico.ico">
  <title>E-PANTAS</title>

  <!-- Google Font: Source Sans Pro -->
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"> -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/dist/css/fonts.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <!-- <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"> -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/dist/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- JQVMap -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/jqvmap/jqvmap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/summernote/summernote-bs4.min.css">

  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/select2/css/select2.min.css">
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">

  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/datatables-buttons/css/buttons.bootstrap4.min.css">
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <link rel="stylesheet" href="{{base_url}}assets/lte/plugins/daterangepicker/daterangepicker.css">

  <link href="{{base_url}}assets/flata/bower_components/jquery.filer/css/jquery.filer.css" type="text/css" rel="stylesheet" />
  <link href="{{base_url}}assets/flata/bower_components/jquery.filer/css/themes/jquery.filer-dragdropbox-theme.css" type="text/css" rel="stylesheet" />

	<style>
    body {
      font-family: Arial, Helvetica, sans-serif;
    }

		.navbar-user-badge {
			padding: 2px 4px;
			position: absolute;
			right: 5px;
		}

    .select2-container .select2-selection--single {
        height: 38px!important;
    }
    /* .select2-container--default .select2-selection--single .select2-selection__arrow {
      height: 24px!important;
    } */

    .swal2-actions > button {
      margin: 3%!important;
      width: 20%!important;
    }

    .navbar-navy {
        background-color: #01652F !important;
    }

    .sidebar-dark-danger .nav-sidebar > .nav-item > .nav-link.active, .sidebar-light-danger .nav-sidebar > .nav-item > .nav-link.active {
        background-color: #FC0 !important;
    }

    blockquote {
        border-left: .2rem solid #007bff !important;
    }

    .callout {

        border-left: 3px solid #117a8b !important;
    }

    /* Style The Dropdown Button */
    .dropbtn {
      background-color: #4CAF50;
      color: white;
      padding: 16px;
      font-size: 16px;
      border: none;
      cursor: pointer;
    }

    /* The container <div> - needed to position the dropdown content */
    .dropdown {
      position: relative;
      display: inline-block;
    }

    /* Dropdown Content (Hidden by Default) */
    .dropdown-content {
      border: 1px solid #dfdfdf;
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 180px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 4;
      right: 0;
    }

    /* Links inside the dropdown */
    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    /* Change color of dropdown links on hover */
    .dropdown-content a:hover {background-color: #f1f1f1}

    /* Show the dropdown menu on hover */
    .dropdown:hover .dropdown-content {
      display: block;
    }

    /* Change the background color of the dropdown button when the dropdown content is shown */
    .dropdown:hover .dropbtn {
      background-color: #3e8e41;
    }

    .sidenav {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 4;
      top: 0;
      right: 0;
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }

    .sidenav a {
      padding: 8px 8px 8px 32px;
      text-decoration: none;
      font-size: 25px;
      color: #818181;
      display: block;
      transition: 0.3s;
    }

    .sidenav a:hover {
      color: #f1f1f1;
    }

    .sidenav .closebtn {
      position: absolute;
      top: 0;
      right: 25px;
      font-size: 36px;
      margin-left: 50px;
    }

    @media screen and (max-height: 450px) {
      .sidenav {padding-top: 15px;}
      .sidenav a {font-size: 18px;}
    }

	</style>
</head>

<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed">
  <input hidden id="baseurl" value="{{base_url}}">
  <input hidden id="role-user" value="{{role}}">
	<div class="wrapper">
		{% include "admin/top_bar.html" %}
		<div class="content-wrapper">
			{% block content %} {% endblock %}
		</div>
		{% include "admin/footer.html" %}
	</div>
	<script src="{{base_url}}assets/lte/plugins/jquery/jquery.min.js"></script>
	<!-- jQuery UI 1.11.4 -->
	<script src="{{base_url}}assets/lte/plugins/jquery-ui/jquery-ui.min.js"></script>
	<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
	<script>
	  $.widget.bridge('uibutton', $.ui.button)
	</script>
	<!-- Bootstrap 4 -->
	<!-- <script src="{{base_url}}assets/lte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script> -->
	<!-- ChartJS -->
	<script src="{{base_url}}assets/lte/plugins/chart.js/Chart.min.js"></script>
	<!-- Sparkline -->
	<script src="{{base_url}}assets/lte/plugins/sparklines/sparkline.js"></script>
	<!-- JQVMap -->
	<script src="{{base_url}}assets/lte/plugins/jqvmap/jquery.vmap.min.js"></script>
	<script src="{{base_url}}assets/lte/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
	<!-- jQuery Knob Chart -->
	<script src="{{base_url}}assets/lte/plugins/jquery-knob/jquery.knob.min.js"></script>
	<!-- daterangepicker -->
	<script src="{{base_url}}assets/lte/plugins/moment/moment.min.js"></script>
	<script src="{{base_url}}assets/lte/plugins/daterangepicker/daterangepicker.js"></script>
	<!-- Tempusdominus Bootstrap 4 -->
	<script src="{{base_url}}assets/lte/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
	<!-- Summernote -->
	<script src="{{base_url}}assets/lte/plugins/summernote/summernote-bs4.min.js"></script>
	<!-- overlayScrollbars -->
	<script src="{{base_url}}assets/lte/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
	<!-- AdminLTE App -->
	<script src="{{base_url}}assets/lte/dist/js/adminlte.js"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="{{base_url}}assets/lte/dist/js/demo.js"></script>
	<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
	<script src="{{base_url}}assets/lte/dist/js/pages/dashboard.js"></script>

  <!-- jQuery -->
  <script src="{{base_url}}assets/lte/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script> -->
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script> -->
  <script src="{{base_url}}assets/lte/plugins/bootstrap/js/bootstrap.js"></script>
  <script src="{{base_url}}assets/lte/plugins/bootstrap/js/bootstrap.bundle.js"></script>
  <script src="{{base_url}}assets/lte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- DataTables  & Plugins -->
  <script src="{{base_url}}assets/lte/plugins/datatables/jquery.dataTables.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/jszip/jszip.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/pdfmake/pdfmake.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/pdfmake/vfs_fonts.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-buttons/js/buttons.print.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/select2/js/select2.full.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
  <script src="{{base_url}}assets/lte/plugins/daterangepicker/daterangepicker.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script src="{{base_url}}assets/lte/swal/swal.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>

  <script type="text/javascript" src="{{base_url}}assets/distro/js/plugins/loaders/pace.min.js"></script>
	<script type="text/javascript" src="{{base_url}}assets/distro/js/core/libraries/jquery.min.js"></script>
	<script type="text/javascript" src="{{base_url}}assets/distro/js/core/libraries/bootstrap.min.js"></script>
	<script type="text/javascript" src="{{base_url}}assets/distro/js/plugins/loaders/blockui.min.js"></script>

  <script src="{{base_url}}assets/distro/js/plugins/uploaders/fileinput/plugins/purify.min.js"></script>
  <script src="{{base_url}}assets/distro/js/plugins/uploaders/fileinput/plugins/sortable.min.js"></script>
  <script src="{{base_url}}assets/distro/js/plugins/uploaders/fileinput/fileinput.min.js"></script>

  <!-- jquery file upload js -->
    <script src="{{base_url}}assets/flata/bower_components/jquery.filer/js/jquery.filer.min.js"></script>
    <script src="{{base_url}}assets/flata/pages/filer/custom-filer.js" type="text/javascript"></script>
    <script src="{{base_url}}assets/flata/pages/filer/jquery.fileuploads.init.js" type="text/javascript"></script>


  <script>
  $( document ).ready(function() {

    var isadmin = localStorage.getItem('isadmin');
    if($('#role-user').val() == '10'){
      if (isadmin == null) {
          localStorage.setItem('isadmin', 1);
          Swal.fire({
            title: 'Login Berhasil',
            text: 'Selamat Datang,  {{name}}',
            icon: 'success',
            showConfirmButton: true,
            confirmButtonText: '<i class="fas fa-check"></i>',
            // timer: 2500
          });
        }
    }

    $('#logout-btn').on('click', function(){
      localStorage.clear();
    });


  // cekStatus(0);
  function cekStatus(param){

      $.ajax({
          type: 'post',
          dataType: 'json',
          url: 'hitungStatus',
          data : {
                  param      : param,
           },
          success: function(result){
            //user ---------
            var pesan_baru_user          = parseInt(result[0].total);
            var pesan_balas_admin   = parseInt(result[1].total);
            var pesan_dibaca_admin  = parseInt(result[3].total);
            var total_semua_user   = pesan_baru_user+pesan_balas_admin;
            $('#badge-total-user').html(total_semua_user);

            $('#total-pesan-baru-user').html(pesan_baru_user);
            $('#total-pesan-balasan-user').html(pesan_balas_admin);
            $('#badge-menu-total-user').html(total_semua_user);

            if(total_semua_user == 0){
              $('#badge-total-user').hide();
            }

            if(pesan_baru_user == 0 && pesan_balas_admin == 0){
              $('#badge-menu-total-user').hide();
            }

            //admin ---------
            var pesan_baru_admin   = parseInt(result[0].total);
            var pesan_balas_user   = parseInt(result[2].total);
            var pesan_dibaca_saya  = parseInt(result[3].total);
            var total_semua_admin  = pesan_baru_admin+pesan_balas_user;
            $('#badge-total-admin').html(total_semua_admin);

            $('#total-pesan-baru-admin').html(pesan_baru_admin);
            $('#total-pesan-dibalas-admin').html(pesan_balas_user);
            $('#badge-menu-pesan-admin').html(pesan_baru_admin);
            $('#badge-menu-balasan-admin').html(pesan_balas_user  + pesan_dibaca_saya);

            if(total_semua_admin == 0){
              $('#badge-total-admin').hide();
            }

            if(pesan_baru_admin == 0){
              $('#badge-menu-pesan-admin').hide();
            }

            if(pesan_balas_user == 0 && pesan_dibaca_saya == 0){
              $('#badge-menu-balasan-admin').hide();
            }


          }
        })
      };

    });
  </script>
	{% block js %}
   {% endblock %}
</body>
</html>
